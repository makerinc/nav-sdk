import h from"react";window.__MAKER_REACT__=window.__MAKER_REACT__||h;var n=window.__MAKER_REACT__;var g="maker-nav-importmap",k={imports:{react:"https://esm.sh/react@16.14.0","react-dom":"https://esm.sh/react@16.14.0","react/jsx-runtime":"https://esm.sh/react@16.14.0/jsx-runtime"}},y=()=>{if(typeof window>"u"||typeof document>"u"||document.getElementById(g))return;let e=document.createElement("script");e.innerHTML=JSON.stringify(k),e.type="importmap",e.id=g,document.head.appendChild(e)};var E={REGISTERED:"maker-nav-component-registered",UNREGISTERED:"maker-nav-component-unregistered"},u=class e{components=new Map;constructor(){typeof window>"u"||typeof document>"u"||(y(),window.__MAKER_NAV_COMPONENT_REGISTRY__={register:(t,o,r)=>{this.components.set(o,{contentType:t,render:r}),window.dispatchEvent(new CustomEvent(E.REGISTERED,{detail:{contentType:t,componentId:o}}))},unregister:t=>{this.components.get(t)&&(this.components.delete(t),window.dispatchEvent(new CustomEvent(E.UNREGISTERED,{detail:{componentId:t}})))},list:()=>Array.from(this.components.entries()).map(([t,o])=>({componentId:t,contentType:o.contentType,render:o.render}))})}static getInstance(){if(typeof window<"u"&&window.__MAKER_COMPONENT_REGISTRY_INSTANCE__)return window.__MAKER_COMPONENT_REGISTRY_INSTANCE__;let t=new e;return typeof window<"u"&&(window.__MAKER_COMPONENT_REGISTRY_INSTANCE__=t),t}register(t,o,r){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.register(t,o,r)}unregister(t){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.unregister(t)}getRenderFunction(t){return window.__MAKER_NAV_COMPONENT_REGISTRY__.list().find(o=>o.componentId===t)?.render}isRegistryAvailable(){return typeof window<"u"&&!!window.__MAKER_NAV_COMPONENT_REGISTRY__}},c=u.getInstance();import{jsx as S}from"react/jsx-runtime";window.__MAKER_SHARED_COMPONENTS_CONTEXT__=window.__MAKER_SHARED_COMPONENTS_CONTEXT__||n.createContext({renderImage:void 0,renderVideo:void 0,renderProductLink:void 0,renderCategoryLink:void 0});var R=window.__MAKER_SHARED_COMPONENTS_CONTEXT__,w=()=>n.useContext(R);function _({renderImage:e,renderVideo:t,renderProductLink:o,renderCategoryLink:r,children:i}){return S(R.Provider,{value:{renderImage:e,renderVideo:t,renderProductLink:o,renderCategoryLink:r},children:i})}var d={Provider:_,useContext:w};import{jsx as x}from"react/jsx-runtime";var L=e=>{let{renderImage:t}=d.useContext();return typeof t=="function"?t(e):x("img",{src:e.src,alt:e.alt,loading:e.priority==0?"eager":"lazy",fetchpriority:e.priority==0?"high":"low",style:{objectFit:e.fit,objectPosition:"center",width:"100%",height:"100%",position:"absolute",top:0,left:0}})},l=L;import{jsx as j}from"react/jsx-runtime";import{jsx as p}from"react/jsx-runtime";var C=({props:e,children:t})=>n.cloneElement(t,{...e}),M=e=>e.target==="product"?p(N,{...e}):e.target==="category"?p(I,{...e}):p(f,{...e}),f=({children:e,...t})=>p("a",{...t,children:e}),N=({productId:e,href:t,children:o,target:r,...i})=>{let{renderProductLink:a}=d.useContext();return typeof a=="function"?p(C,{props:i,children:a({productId:e,href:t,children:o,target:r})}):p(f,{href:t,target:"_top",...i,children:o})},I=({categoryId:e,href:t,children:o,target:r,...i})=>{let{renderCategoryLink:a}=d.useContext();return typeof a=="function"?p(C,{props:i,children:a({categoryId:e,href:t,children:o,target:r})}):p(f,{href:t,target:"_top",...i,children:o})},m=M;import ne from"react";var P=class extends n.Component{state={hasError:!1};static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,o){console.error("Error caught in ErrorBoundary:",t,o)}render(){return this.state.hasError?this.props.fallback:this.props.children}};import{jsx as ae}from"react/jsx-runtime";import{jsx as s,jsxs as T}from"react/jsx-runtime";var v=e=>{let[t,o]=n.useState(0),r=()=>{o(t+1)};return s(m,{target:"product",productId:e.data.id,categoryId:e.data.categoryId,href:e.data.link,children:T("div",{children:[s("div",{style:{position:"relative",aspectRatio:"16/9",width:"100%"},children:s(l,{src:e.data.variants[0].imageLink,alt:e.data.title,fit:"cover",priority:1})}),s("div",{children:e.data.title}),T("button",{onClick:r,children:["Clicked ",t," times"]}),s(m,{href:e.data.link,target:"_blank",onClick:i=>i.stopPropagation(),children:"Open Product"})]})})};c.register("product-card","my-custom-product-card",v);export{v as Component};
