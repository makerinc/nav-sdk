import h from"react";window.__MAKER_NAV_REACT__=window.__MAKER_NAV_REACT__||h;var i=window.__MAKER_NAV_REACT__;var C="maker-nav-importmap",S={imports:{react:"https://esm.sh/react@16.14.0","react-dom":"https://esm.sh/react@16.14.0","react/jsx-runtime":"https://esm.sh/react@16.14.0/jsx-runtime"}},E=()=>{if(typeof window>"u"||typeof document>"u"||document.getElementById(C))return;let t=document.createElement("script");t.innerHTML=JSON.stringify(S),t.type="importmap",t.id=C,document.head.appendChild(t)};var v=window.__MAKER_NAV_LOGGING_ENABLED__||!0,m=(...t)=>{v&&console.log("[nav-sdk]",...t)};var R={REGISTERED:"maker-nav-component-registered",UNREGISTERED:"maker-nav-component-unregistered"},M=()=>{let e=new Error().stack?.split(`
`)||[],o=e[e.length-1];if(!o)return;let r=o.match(/.*at\s+(https?:\/\/.*?(\.js|\.tsx|\.ts))(?::\d+:\d+)?.*/);if(r)return r[1]},l=class t{components=new Map;constructor(){typeof window>"u"||typeof document>"u"||(E(),window.__MAKER_NAV_COMPONENT_REGISTRY__={register:(e,o,r)=>{m("registering",o);let n=M()||import.meta.url,a=r.defaultProps;this.components.set(o,{componentType:e,componentUrl:n,render:r,defaultProps:a}),window.dispatchEvent(new CustomEvent(R.REGISTERED,{detail:{componentType:e,componentId:o,componentUrl:n,defaultProps:a}}))},unregister:e=>{m("unregistering",e),this.components.get(e)&&(this.components.delete(e),window.dispatchEvent(new CustomEvent(R.UNREGISTERED,{detail:{componentId:e}})))},list:()=>Array.from(this.components.entries()).map(([e,o])=>({componentId:e,componentUrl:o.componentUrl,componentType:o.componentType,render:o.render,defaultProps:o.defaultProps}))})}static getInstance(){if(typeof window<"u"&&window.__MAKER_NAV_COMPONENT_REGISTRY_INSTANCE__)return window.__MAKER_NAV_COMPONENT_REGISTRY_INSTANCE__;let e=new t;return typeof window<"u"&&(window.__MAKER_NAV_COMPONENT_REGISTRY_INSTANCE__=e),e}register(e,o,r){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.register(e,o,r)}unregister(e){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.unregister(e)}getById(e){return window.__MAKER_NAV_COMPONENT_REGISTRY__.list().find(o=>o.componentId===e)}getByUrl(e){return window.__MAKER_NAV_COMPONENT_REGISTRY__.list().find(o=>o.componentUrl===e)}isRegistryAvailable(){return typeof window<"u"&&!!window.__MAKER_NAV_COMPONENT_REGISTRY__}},s=l.getInstance();import{jsx as I}from"react/jsx-runtime";window.__MAKER_NAV_SHARED_COMPONENTS_CONTEXT__=window.__MAKER_NAV_SHARED_COMPONENTS_CONTEXT__||i.createContext({renderImage:void 0,renderVideo:void 0,renderProductLink:void 0,renderCategoryLink:void 0});var T=window.__MAKER_NAV_SHARED_COMPONENTS_CONTEXT__,L=()=>i.useContext(T);function P({renderImage:t,renderVideo:e,renderProductLink:o,renderCategoryLink:r,children:n}){return I(T.Provider,{value:{renderImage:t,renderVideo:e,renderProductLink:o,renderCategoryLink:r},children:n})}var d={Provider:P,useContext:L};import{jsx as O}from"react/jsx-runtime";var x=t=>{let{renderImage:e}=d.useContext();return typeof e=="function"?e(t):O("img",{src:t.src,alt:t.alt,loading:t.priority==0?"eager":"lazy",fetchpriority:t.priority==0?"high":"low",style:{objectFit:t.fit,objectPosition:"center",width:"100%",height:"100%",position:"absolute",top:0,left:0}})},_=x;import{jsx as te}from"react/jsx-runtime";import{jsx as p}from"react/jsx-runtime";var N=({props:t,children:e})=>i.cloneElement(e,{...t}),b=t=>t.target==="product"?p(V,{...t}):t.target==="category"?p(D,{...t}):p(f,{...t}),f=({children:t,...e})=>p("a",{...e,children:t}),V=({productId:t,variantId:e,categoryId:o,href:r,children:n,target:a,...g})=>{let{renderProductLink:y}=d.useContext();return typeof y=="function"?p(N,{props:g,children:y({productId:t,variantId:e,categoryId:o,href:r,children:n,target:a})}):p(f,{href:r,target:"_top",...g,children:n})},D=({categoryId:t,href:e,children:o,target:r,...n})=>{let{renderCategoryLink:a}=d.useContext();return typeof a=="function"?p(N,{props:n,children:a({categoryId:t,href:e,children:o,target:r})}):p(f,{href:e,target:"_top",...n,children:o})},u=b;import me from"react";var w=class extends i.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,o){console.error("Error caught in ErrorBoundary:",e,o)}render(){return this.state.hasError?this.props.renderFallback():this.props.children}};import{jsx as fe}from"react/jsx-runtime";import{jsx as c,jsxs as A}from"react/jsx-runtime";var k=t=>{let[e,o]=i.useState(0),r=()=>{o(e+1)};return c(u,{target:"product",productId:t.data.id,categoryId:t.data.categoryId,href:t.data.link,children:A("div",{children:[c("div",{style:{position:"relative",aspectRatio:"16/9",width:"100%"},children:c(_,{src:t.data.variants[0].imageLink,alt:t.data.title,fit:"cover",priority:1})}),c("div",{children:t.data.title}),c(u,{href:t.data.link,target:"_blank",onClick:n=>n.stopPropagation(),children:"Open Product"}),A("button",{onClick:r,children:["Clicked ",e," times"]})]})})};k.defaultProps={test:"test"};s.register("product-card","my-custom-product-card",k);export{k as Component};
